{"version":3,"sources":["../../../src/__tests__/global/setup.js"],"names":["dotenv","config","beforeAll","clearDB","mongoose","connection","db","collections","forEach","collection","deleteOne","readyState","connect","process","env","TEST_DATABASE_URL","useCreateIndex","useNewUrlParser","useFindAndModify","afterAll","disconnect"],"mappings":";;;;;;;;AAAA;;AACA;;AAEAA,mBAAOC,MAAP;;AAEAC,SAAS;AAAA;AAAA;AAAA;AAAA,6BAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACFC,UAAAA,OADE;AAAA;AAAA;AAAA;AAAA;AAAA,yCACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACYC,qBAASC,UAAT,CAAoBC,EAApB,CAAuBC,WAAvB,EADZ;;AAAA;AACRA,sBAAAA,WADQ;AAAA;AAAA,6BAGRA,WAAW,CAACC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,qDAAoB,iBAAOC,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAA8BA,UAAU,CAACC,SAAX,EAA9B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAApB;;AAAA;AAAA;AAAA;AAAA,0BAHQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADR;;AAAA,4BACFP,OADE;AAAA;AAAA;AAAA;;AAAA,gBAOJC,qBAASC,UAAT,CAAoBM,UAApB,KAAmC,CAP/B;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAQAP,qBAASQ,OAAT,CACJC,OAAO,CAACC,GAAR,CAAYC,iBADR,EAEJ;AACEC,YAAAA,cAAc,EAAE,IADlB;AAEEC,YAAAA,eAAe,EAAE,IAFnB;AAGEC,YAAAA,gBAAgB,EAAE;AAHpB,WAFI,CARA;;AAAA;AAAA;AAAA,iBAiBFf,OAAO,EAjBL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD,GAAT;AAoBAgB,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACDf,qBAASgB,UAAT,EADC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD,GAAR","sourcesContent":["import mongoose from 'mongoose';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nbeforeAll(async () => {\n  const clearDB = async () => {\n    const collections = await mongoose.connection.db.collections();\n\n    await collections.forEach(async (collection) => { await collection.deleteOne(); });\n  };\n\n  if (mongoose.connection.readyState === 0) {\n    await mongoose.connect(\n      process.env.TEST_DATABASE_URL,\n      {\n        useCreateIndex: true,\n        useNewUrlParser: true,\n        useFindAndModify: false,\n      },\n    );\n  }\n  await clearDB();\n});\n\nafterAll(async () => {\n  await mongoose.disconnect();\n});\n"],"file":"setup.js"}